# Lucid Session API - Configuration File
# Optional YAML configuration for session API service
# File: sessions/api/config.yaml
# Purpose: Configuration for session API endpoints, database connections, and service integration
# NOTE: All service URLs, ports, and database connections must be provided via
# environment variables from docker-compose.application.yml

# Service Configuration
SERVICE_NAME: "lucid-session-api"
SERVICE_VERSION: "1.0.0"
DEBUG: false
LOG_LEVEL: "INFO"  # Override with LOG_LEVEL env var

# Network Configuration
SESSION_API_HOST: "0.0.0.0"  # Bind address (always 0.0.0.0 in container)
SESSION_API_PORT: 8087  # Default port (override with SESSION_API_PORT env var)
SESSION_API_URL: ""  # Set via SESSION_API_URL env var (e.g., http://session-api:8087)
SESSION_API_WORKERS: 1  # Number of uvicorn workers

# Database Configuration - REQUIRED
# NOTE: Database URLs MUST come from environment variables:
# - MONGODB_URL (required, from .env.secrets)
# - REDIS_URL (required, from .env.core or .env.secrets)
# - ELASTICSEARCH_URL (optional, from .env.core or .env.secrets)
MONGODB_URL: ""  # Set via MONGODB_URL env var (required)
REDIS_URL: ""    # Set via REDIS_URL env var (required)
ELASTICSEARCH_URL: ""  # Set via ELASTICSEARCH_URL env var (optional)

# Integration Service URLs (from .env.application, .env.core)
# NOTE: Service URLs MUST come from environment variables or docker-compose:
API_GATEWAY_URL: ""  # Set via API_GATEWAY_URL env var (http://api-gateway:8080)
BLOCKCHAIN_ENGINE_URL: ""  # Set via BLOCKCHAIN_ENGINE_URL env var (http://blockchain-engine:8084)
AUTH_SERVICE_URL: ""  # Set via AUTH_SERVICE_URL env var (http://lucid-auth-service:8089)

# CORS Configuration (from .env.application)
CORS_ORIGINS: "*"  # From environment: CORS_ORIGINS (comma-separated list, default: "*")

# Storage Configuration
# NOTE: Storage paths come from volumes mounted in docker-compose.application.yml
CHUNK_STORAGE_PATH: "/app/data/chunks"  # Volume mount path
SESSION_STORAGE_PATH: "/app/data/sessions"  # Volume mount path
TEMP_STORAGE_PATH: "/tmp/api"  # tmpfs mount: /tmp:size=200m

# Timeout Configuration (from .env.application)
SERVICE_TIMEOUT_SECONDS: 30  # Default timeout for service calls
SERVICE_RETRY_COUNT: 3  # Default retry count for service calls
SERVICE_RETRY_DELAY_SECONDS: 1.0  # Default delay between retries

