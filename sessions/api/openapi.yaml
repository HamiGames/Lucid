openapi: 3.0.3
info:
  title: Lucid Session API
  description: |
    Session management API for Lucid RDP system.
    
    Features:
    - Session lifecycle management (create, read, update, delete)
    - Session recording control (start, stop, pause, resume)
    - Chunk management and retrieval
    - Pipeline status and control
    - Statistics and analytics
    - Health monitoring and metrics
  version: 1.0.0
  contact:
    name: Lucid Development Team
    email: dev@lucid-blockchain.org
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:8087
    description: Local development server
  - url: http://session-api:8087
    description: Docker container service

tags:
  - name: Health
    description: Health check and service info endpoints
  - name: Sessions
    description: Session management endpoints
  - name: Chunks
    description: Chunk management and retrieval endpoints
  - name: Pipeline
    description: Pipeline status and control endpoints
  - name: Statistics
    description: Statistics and analytics endpoints
  - name: Metrics
    description: Prometheus metrics endpoints

paths:
  /:
    get:
      tags: [Health]
      summary: Root endpoint
      description: Returns basic service information
      operationId: getRoot
      responses:
        "200":
          description: Service information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RootResponse'

  /health:
    get:
      tags: [Health]
      summary: Health check
      description: Returns the health status of the Session API service and its dependencies
      operationId: healthCheck
      responses:
        "200":
          description: Health check response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
        "503":
          description: Service unavailable or not fully initialized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /metrics:
    get:
      tags: [Metrics]
      summary: Get Prometheus metrics
      description: Exports Prometheus metrics in the OpenMetrics format
      operationId: getPrometheusMetrics
      responses:
        "200":
          description: Prometheus metrics
          content:
            text/plain:
              schema:
                type: string
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions:
    post:
      tags: [Sessions]
      summary: Create a new session
      description: Creates a new RDP recording session with specified configuration
      operationId: createSession
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSessionRequest'
      responses:
        "201":
          description: Session created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionResponse'
        "400":
          description: Invalid request data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    get:
      tags: [Sessions]
      summary: List sessions
      description: Retrieves a paginated list of sessions with optional filtering
      operationId: listSessions
      parameters:
        - name: status
          in: query
          required: false
          schema:
            type: string
          description: Filter by session status
        - name: project
          in: query
          required: false
          schema:
            type: string
          description: Filter by project name
        - name: environment
          in: query
          required: false
          schema:
            type: string
          description: Filter by environment
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 50
          description: Number of results per page
        - name: offset
          in: query
          required: false
          schema:
            type: integer
            minimum: 0
            default: 0
          description: Number of results to skip
      responses:
        "200":
          description: List of sessions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionListResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}:
    get:
      tags: [Sessions]
      summary: Get session by ID
      description: Retrieves detailed information about a specific session
      operationId: getSession
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Session details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    put:
      tags: [Sessions]
      summary: Update session
      description: Updates session configuration and metadata
      operationId: updateSession
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSessionRequest'
      responses:
        "200":
          description: Session updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    delete:
      tags: [Sessions]
      summary: Delete session
      description: Deletes a session and all associated data including chunks
      operationId: deleteSession
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Session deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/start:
    post:
      tags: [Sessions]
      summary: Start recording
      description: Starts recording for a session
      operationId: startRecording
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Recording started successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecordingStatusResponse'
        "400":
          description: Session not in valid state for recording
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/stop:
    post:
      tags: [Sessions]
      summary: Stop recording
      description: Stops recording for a session
      operationId: stopRecording
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Recording stopped successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecordingStatusResponse'
        "400":
          description: Session not in recording state
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/pause:
    post:
      tags: [Sessions]
      summary: Pause recording
      description: Pauses recording for a session
      operationId: pauseRecording
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Recording paused successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecordingStatusResponse'
        "400":
          description: Session not in recording state
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/resume:
    post:
      tags: [Sessions]
      summary: Resume recording
      description: Resumes recording for a paused session
      operationId: resumeRecording
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Recording resumed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecordingStatusResponse'
        "400":
          description: Session not in paused state
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/chunks:
    get:
      tags: [Chunks]
      summary: Get session chunks
      description: Retrieves chunks for a session with optional filtering and pagination
      operationId: getSessionChunks
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: 100
          description: Number of results per page
        - name: offset
          in: query
          required: false
          schema:
            type: integer
            minimum: 0
            default: 0
          description: Number of results to skip
        - name: status
          in: query
          required: false
          schema:
            type: string
          description: Filter by chunk status
        - name: start_time
          in: query
          required: false
          schema:
            type: string
            format: date-time
          description: Filter chunks after timestamp
        - name: end_time
          in: query
          required: false
          schema:
            type: string
            format: date-time
          description: Filter chunks before timestamp
      responses:
        "200":
          description: List of chunks
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChunkListResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/chunks/{chunk_id}:
    get:
      tags: [Chunks]
      summary: Get chunk by ID
      description: Retrieves detailed information about a specific chunk
      operationId: getChunk
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
        - name: chunk_id
          in: path
          required: true
          schema:
            type: string
          description: Chunk ID
      responses:
        "200":
          description: Chunk details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChunkResponse'
        "404":
          description: Chunk not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/chunks/{chunk_id}/download:
    get:
      tags: [Chunks]
      summary: Download chunk data
      description: Downloads the binary chunk data file
      operationId: downloadChunk
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
        - name: chunk_id
          in: path
          required: true
          schema:
            type: string
          description: Chunk ID
      responses:
        "200":
          description: Chunk data file
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        "404":
          description: Chunk not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/pipeline:
    get:
      tags: [Pipeline]
      summary: Get pipeline status
      description: Retrieves the pipeline processing status for a session
      operationId: getPipelineStatus
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Pipeline status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PipelineResponse'
        "404":
          description: Pipeline not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/pipeline/pause:
    post:
      tags: [Pipeline]
      summary: Pause pipeline
      description: Pauses pipeline processing for a session
      operationId: pausePipeline
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Pipeline paused successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PipelineStatusResponse'
        "404":
          description: Pipeline not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/pipeline/resume:
    post:
      tags: [Pipeline]
      summary: Resume pipeline
      description: Resumes pipeline processing for a session
      operationId: resumePipeline
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Pipeline resumed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PipelineStatusResponse'
        "404":
          description: Pipeline not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/{session_id}/statistics:
    get:
      tags: [Statistics]
      summary: Get session statistics
      description: Retrieves detailed statistics for a specific session
      operationId: getSessionStatistics
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
          description: Session ID
      responses:
        "200":
          description: Session statistics
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatisticsResponse'
        "404":
          description: Session not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/sessions/statistics:
    get:
      tags: [Statistics]
      summary: Get system statistics
      description: Retrieves system-wide statistics across all sessions
      operationId: getSystemStatistics
      responses:
        "200":
          description: System statistics
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemStatisticsResponse'
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  schemas:
    RootResponse:
      type: object
      properties:
        service:
          type: string
          example: "LUCID Session API Service"
        version:
          type: string
          example: "1.0.0"
        status:
          type: string
          example: "running"
        timestamp:
          type: string
          format: date-time
          example: "2024-01-27T12:34:56.789Z"

    HealthResponse:
      type: object
      required:
        - status
        - timestamp
      properties:
        status:
          type: string
          enum: [healthy, unhealthy]
          example: healthy
        timestamp:
          type: string
          format: date-time
          example: "2024-01-27T12:34:56.789Z"
        error:
          type: string
          example: "Session API not initialized"
        services:
          type: object
          properties:
            mongodb:
              type: string
              enum: [healthy, unhealthy]
            session_storage:
              type: object
              properties:
                status:
                  type: string
                  enum: [healthy, unhealthy]
            chunk_store:
              type: object
              properties:
                status:
                  type: string
                  enum: [healthy, unhealthy]

    RDPConfig:
      type: object
      required:
        - host
        - username
      properties:
        host:
          type: string
          minLength: 1
          maxLength: 255
          example: "192.168.1.100"
        port:
          type: integer
          minimum: 1
          maximum: 65535
          default: 3389
        username:
          type: string
          minLength: 1
          maxLength: 255
          example: "user"
        password:
          type: string
          minLength: 1
          maxLength: 255
        domain:
          type: string
          maxLength: 255
        use_tls:
          type: boolean
          default: true
        ignore_cert:
          type: boolean
          default: false

    RecordingConfig:
      type: object
      properties:
        frame_rate:
          type: integer
          minimum: 1
          maximum: 120
          default: 30
        resolution:
          type: string
          default: "1920x1080"
        quality:
          type: string
          default: "high"
        compression:
          type: string
          default: "zstd"
        bitrate:
          type: integer
          minimum: 1000
          maximum: 50000000
        audio_enabled:
          type: boolean
          default: true
        cursor_enabled:
          type: boolean
          default: true

    StorageConfig:
      type: object
      properties:
        retention_days:
          type: integer
          minimum: 1
          maximum: 365
          default: 30
        max_size_gb:
          type: integer
          minimum: 1
          maximum: 1000
          default: 10
        encryption_enabled:
          type: boolean
          default: true
        compression_enabled:
          type: boolean
          default: true
        backup_enabled:
          type: boolean
          default: false
        archive_enabled:
          type: boolean
          default: false

    SessionMetadata:
      type: object
      properties:
        project:
          type: string
          maxLength: 100
        environment:
          type: string
          maxLength: 50
        tags:
          type: array
          items:
            type: string
          default: []
        description:
          type: string
          maxLength: 500
        owner:
          type: string
          maxLength: 100
        priority:
          type: string
          default: "normal"

    CreateSessionRequest:
      type: object
      required:
        - name
        - rdp_config
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 255
          example: "Production RDP Session"
        description:
          type: string
          maxLength: 500
        rdp_config:
          $ref: '#/components/schemas/RDPConfig'
        recording_config:
          $ref: '#/components/schemas/RecordingConfig'
        storage_config:
          $ref: '#/components/schemas/StorageConfig'
        metadata:
          $ref: '#/components/schemas/SessionMetadata'

    UpdateSessionRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 255
        description:
          type: string
          maxLength: 500
        recording_config:
          $ref: '#/components/schemas/RecordingConfig'
        storage_config:
          $ref: '#/components/schemas/StorageConfig'
        metadata:
          $ref: '#/components/schemas/SessionMetadata'

    SessionResponse:
      type: object
      required:
        - session_id
        - name
        - status
        - created_at
        - rdp_config
        - recording_config
        - storage_config
        - metadata
      properties:
        session_id:
          type: string
          example: "123e4567-e89b-12d3-a456-426614174000"
        name:
          type: string
          example: "Production RDP Session"
        status:
          type: string
          enum: [created, starting, recording, paused, stopped, processing, completed, failed, deleted]
          example: "recording"
        created_at:
          type: string
          format: date-time
          example: "2024-01-27T12:34:56.789Z"
        started_at:
          type: string
          format: date-time
          nullable: true
        stopped_at:
          type: string
          format: date-time
          nullable: true
        rdp_config:
          $ref: '#/components/schemas/RDPConfig'
        recording_config:
          $ref: '#/components/schemas/RecordingConfig'
        storage_config:
          $ref: '#/components/schemas/StorageConfig'
        metadata:
          $ref: '#/components/schemas/SessionMetadata'
        statistics:
          type: object
          additionalProperties: true

    SessionListResponse:
      type: object
      required:
        - sessions
        - pagination
      properties:
        sessions:
          type: array
          items:
            $ref: '#/components/schemas/SessionResponse'
        pagination:
          type: object
          properties:
            total:
              type: integer
            limit:
              type: integer
            offset:
              type: integer
            has_more:
              type: boolean

    ChunkResponse:
      type: object
      required:
        - chunk_id
        - session_id
        - sequence_number
        - timestamp
        - status
        - size_bytes
        - duration_seconds
        - frame_count
      properties:
        chunk_id:
          type: string
          example: "chunk-123e4567-e89b-12d3-a456-426614174000"
        session_id:
          type: string
          example: "123e4567-e89b-12d3-a456-426614174000"
        sequence_number:
          type: integer
          example: 1
        timestamp:
          type: string
          format: date-time
          example: "2024-01-27T12:34:56.789Z"
        status:
          type: string
          example: "processed"
        size_bytes:
          type: integer
          example: 10485760
        duration_seconds:
          type: number
          format: float
          example: 1.0
        frame_count:
          type: integer
          example: 30
        merkle_hash:
          type: string
          nullable: true
        storage_path:
          type: string
          nullable: true
        processing_info:
          type: object
          properties:
            compression_ratio:
              type: number
              format: float
            encryption_enabled:
              type: boolean
            quality_score:
              type: number
              format: float

    ChunkListResponse:
      type: object
      required:
        - chunks
        - pagination
      properties:
        chunks:
          type: array
          items:
            $ref: '#/components/schemas/ChunkResponse'
        pagination:
          type: object
          properties:
            total:
              type: integer
            limit:
              type: integer
            offset:
              type: integer
            has_more:
              type: boolean

    PipelineResponse:
      type: object
      required:
        - session_id
        - pipeline_status
        - stages
        - overall_metrics
      properties:
        session_id:
          type: string
          example: "123e4567-e89b-12d3-a456-426614174000"
        pipeline_status:
          type: string
          enum: [active, paused, completed, failed]
          example: "active"
        stages:
          type: array
          items:
            type: object
            properties:
              stage_name:
                type: string
              status:
                type: string
              progress:
                type: number
        overall_metrics:
          type: object
          additionalProperties: true

    StatisticsResponse:
      type: object
      required:
        - session_id
        - time_range
        - recording_stats
        - storage_stats
        - quality_stats
        - performance_stats
      properties:
        session_id:
          type: string
          example: "123e4567-e89b-12d3-a456-426614174000"
        time_range:
          type: object
          properties:
            start:
              type: string
              format: date-time
            end:
              type: string
              format: date-time
        recording_stats:
          type: object
          properties:
            total_duration_seconds:
              type: integer
            active_duration_seconds:
              type: integer
            paused_duration_seconds:
              type: integer
            total_frames:
              type: integer
            dropped_frames:
              type: integer
            average_fps:
              type: number
              format: float
        storage_stats:
          type: object
          properties:
            total_size_bytes:
              type: integer
            compressed_size_bytes:
              type: integer
            compression_ratio:
              type: number
              format: float
            chunks_count:
              type: integer
            average_chunk_size_bytes:
              type: integer
        quality_stats:
          type: object
          properties:
            average_quality_score:
              type: number
              format: float
            min_quality_score:
              type: number
              format: float
            max_quality_score:
              type: number
              format: float
            quality_distribution:
              type: object
        performance_stats:
          type: object
          properties:
            average_processing_time_ms:
              type: number
              format: float
            max_processing_time_ms:
              type: number
              format: float
            min_processing_time_ms:
              type: number
              format: float
            error_rate:
              type: number
              format: float

    SystemStatisticsResponse:
      type: object
      properties:
        system_stats:
          type: object
          properties:
            total_sessions:
              type: integer
            active_sessions:
              type: integer
        storage_stats:
          type: object
        chunk_stats:
          type: object

    RecordingStatusResponse:
      type: object
      required:
        - session_id
        - status
      properties:
        session_id:
          type: string
          example: "123e4567-e89b-12d3-a456-426614174000"
        status:
          type: string
          enum: [recording, paused, stopped]
        started_at:
          type: string
          format: date-time
          nullable: true
        stopped_at:
          type: string
          format: date-time
          nullable: true
        paused_at:
          type: string
          format: date-time
          nullable: true
        resumed_at:
          type: string
          format: date-time
          nullable: true
        recording_url:
          type: string
          nullable: true

    PipelineStatusResponse:
      type: object
      required:
        - session_id
        - pipeline_status
      properties:
        session_id:
          type: string
          example: "123e4567-e89b-12d3-a456-426614174000"
        pipeline_status:
          type: string
          enum: [active, paused]
        paused_at:
          type: string
          format: date-time
          nullable: true
        resumed_at:
          type: string
          format: date-time
          nullable: true

    DeleteResponse:
      type: object
      required:
        - session_id
        - status
      properties:
        session_id:
          type: string
          example: "123e4567-e89b-12d3-a456-426614174000"
        status:
          type: string
          example: "deleted"
        deleted_at:
          type: string
          format: date-time
        deleted_chunks:
          type: integer

    ErrorResponse:
      type: object
      required:
        - error
      properties:
        error:
          type: object
          properties:
            code:
              type: string
              example: "LUCID_ERR_5000"
            message:
              type: string
              example: "Internal server error"
            service:
              type: string
              example: "lucid-session-api"
            version:
              type: string
              example: "1.0.0"
            details:
              type: string
              example: "An unexpected error occurred"
            timestamp:
              type: string
              format: date-time
              example: "2024-01-27T12:34:56.789Z"

