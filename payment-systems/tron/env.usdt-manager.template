# LUCID TRON USDT Manager - Environment Variables Template
# File: payment-systems/tron/env.usdt-manager.template
# Purpose: Template for USDT manager container environment configuration
# Note: Copy this file to .env.tron-usdt-manager and fill in actual values

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
SERVICE_NAME=tron-usdt-manager
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8094
USDT_MANAGER_PORT=8094
USDT_MANAGER_HOST=tron-usdt-manager
USDT_MANAGER_URL=http://tron-usdt-manager:8094
LUCID_ENV=production
LUCID_PLATFORM=arm64
PROJECT_ROOT=/mnt/myssd/Lucid/Lucid

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=/app/logs/usdt-manager.log
LOG_FORMAT=json
DEBUG=false
ACCESS_LOG=true

# =============================================================================
# TRON NETWORK CONFIGURATION
# =============================================================================
TRON_NETWORK=mainnet
TRON_RPC_URL=https://api.trongrid.io
TRON_RPC_URL_MAINNET=https://api.trongrid.io
TRON_RPC_URL_SHASTA=https://api.shasta.trongrid.io
TRON_HTTP_ENDPOINT=https://api.trongrid.io
TRON_TIMEOUT=30
TRONGRID_API_KEY=${TRONGRID_API_KEY}
TRON_API_KEY=${TRON_API_KEY}
TRON_NODE_URL=${TRON_NODE_URL}

# =============================================================================
# TRON CLIENT & WALLET MANAGER INTEGRATION
# =============================================================================
TRON_CLIENT_URL=http://lucid-tron-client:8091
WALLET_MANAGER_URL=http://tron-wallet-manager:8093

# =============================================================================
# USDT CONTRACT CONFIGURATION
# =============================================================================
# Mainnet USDT contract address
USDT_CONTRACT_ADDRESS=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
USDT_CONTRACT_ADDRESS_MAINNET=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
USDT_CONTRACT_ADDRESS_SHASTA=TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs
USDT_DECIMALS=6

# =============================================================================
# PRIVATE KEY & WALLET CONFIGURATION
# =============================================================================
# DO NOT store actual private keys in environment files in production
# Use secure key management services instead
TRON_PRIVATE_KEY=${TRON_PRIVATE_KEY}
TRON_ADDRESS=${TRON_ADDRESS}
WALLET_ENCRYPTION_KEY=${WALLET_ENCRYPTION_KEY}
ENCRYPTION_KEY=${ENCRYPTION_KEY}

# =============================================================================
# DATABASE CONFIGURATION (MONGODB)
# =============================================================================
MONGODB_URL=mongodb://lucid-mongodb:27017
MONGODB_URI=mongodb://lucid-mongodb:27017
MONGODB_DATABASE=lucid_payments
MONGODB_USERNAME=${MONGODB_USERNAME}
MONGODB_PASSWORD=${MONGODB_USERNAME}

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================
REDIS_URL=redis://lucid-redis:6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DATABASE=0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET_KEY=!{JWT_SECRET_KEY}
JWT_ALGORITHM=HS256
API_GATEWAY_URL=http://lucid-api-gateway:8080

# =============================================================================
# CORS & TRUSTED HOSTS
# =============================================================================
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
TRUSTED_HOSTS=*

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# METRICS & MONITORING
# =============================================================================
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=60

# =============================================================================
# DATA DIRECTORIES
# =============================================================================
DATA_DIRECTORY=/data/payment-systems
TRON_DATA_DIR=/data/payment-systems/usdt-manager

# =============================================================================
# TRANSACTION LIMITS
# =============================================================================
# Minimum USDT amount per transaction (in USDT)
USDT_MIN_AMOUNT=0.01

# Maximum USDT amount per transaction (in USDT)
USDT_MAX_AMOUNT=1000000.0

# Maximum USDT per day (in USDT)
USDT_DAILY_LIMIT=10000000.0

# Maximum USDT per month (in USDT)
USDT_MONTHLY_LIMIT=50000000.0

# =============================================================================
# TRANSFER CONFIGURATION
# =============================================================================
# Default gas limit for transfers
USDT_GAS_LIMIT=100000

# Default gas price (in SUN)
USDT_GAS_PRICE=1000000

# Number of blocks to wait for confirmation
USDT_CONFIRMATION_BLOCKS=20

# Timeout for transaction confirmation (seconds)
USDT_CONFIRMATION_TIMEOUT=300

# =============================================================================
# BATCH TRANSFER CONFIGURATION
# =============================================================================
# Maximum batch size for batch transfers
USDT_BATCH_SIZE=50

# Interval between batch processing (seconds)
USDT_BATCH_INTERVAL=300

# =============================================================================
# AML/KYC CONFIGURATION
# =============================================================================
# Enable AML/KYC verification
AML_KYC_ENABLED=true

# KYC verification level (1=basic, 2=standard, 3=enhanced)
KYC_VERIFICATION_LEVEL=3

# High transaction value threshold for KYC (in USDT)
KYC_HIGH_VALUE_THRESHOLD=100000.0

# =============================================================================
# COMPLIANCE CONFIGURATION
# =============================================================================
# Enable transaction monitoring
TRANSACTION_MONITORING_ENABLED=true

# Enable audit logging
AUDIT_LOGGING_ENABLED=true

# Audit log retention (days)
AUDIT_RETENTION_DAYS=365

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Number of workers
WORKERS=1

# Keep-alive timeout (seconds)
TIMEOUT=30

# Enable caching
CACHE_ENABLED=true

# Cache TTL (seconds)
CACHE_TTL=300

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
# Slack webhook URL for alerts (optional)
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}

# Email notification recipients (comma-separated)
ALERT_EMAIL_RECIPIENTS=ops@lucid.local,security@lucid.local

# SMS recipients (comma-separated, optional)
SMS_RECIPIENTS=${SMS_RECIPIENTS}

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================
# Enable automated backups
BACKUP_ENABLED=true

# Backup frequency (daily, hourly, etc.)
BACKUP_FREQUENCY=daily

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup location
BACKUP_LOCATION=/backup/usdt-manager

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================
# Circuit breaker enabled
CIRCUIT_BREAKER_ENABLED=true

# Circuit breaker threshold (failures before opening)
CIRCUIT_BREAKER_THRESHOLD=5

# Circuit breaker timeout (seconds)
CIRCUIT_BREAKER_TIMEOUT=60

# Retry configuration
RETRY_ENABLED=true
MAX_RETRIES=3
RETRY_DELAY=5
RETRY_BACKOFF=exponential

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit actual secrets to version control
# 2. Use secure vaults (HashiCorp Vault, AWS Secrets Manager, etc.)
# 3. Rotate secrets regularly
# 4. Ensure proper file permissions (chmod 600 for .env files)
# 5. Monitor environment variable access
# 6. Use strong, unique values for all secrets
# 7. Test configuration in staging before production deployment
