# LUCID TRON Client - Error Codes Configuration
# File: payment-systems/tron/config/error-codes.yaml
# Purpose: Standardized error codes and messages for tron-client service

# Error Code Categories
errors:
  # Network Errors (E1xx)
  network:
    E100:
      code: "E100"
      message: "TRON network connection failed"
      http_status: 503
      retryable: true
      recovery_action: "retry_with_backoff"
    
    E101:
      code: "E101"
      message: "TRON network timeout"
      http_status: 504
      retryable: true
      recovery_action: "retry_with_backoff"
    
    E102:
      code: "E102"
      message: "TRON network unavailable"
      http_status: 503
      retryable: true
      recovery_action: "check_network_status"
    
    E103:
      code: "E103"
      message: "TRON network sync in progress"
      http_status: 503
      retryable: true
      recovery_action: "wait_for_sync"
    
    E104:
      code: "E104"
      message: "TRON network maintenance mode"
      http_status: 503
      retryable: false
      recovery_action: "wait_for_maintenance_complete"

  # Transaction Errors (E2xx)
  transaction:
    E200:
      code: "E200"
      message: "Invalid transaction format"
      http_status: 400
      retryable: false
      recovery_action: "validate_transaction"
    
    E201:
      code: "E201"
      message: "Transaction amount too small"
      http_status: 400
      retryable: false
      recovery_action: "check_minimum_amount"
    
    E202:
      code: "E202"
      message: "Transaction amount too large"
      http_status: 400
      retryable: false
      recovery_action: "check_maximum_amount"
    
    E203:
      code: "E203"
      message: "Insufficient balance"
      http_status: 400
      retryable: false
      recovery_action: "check_account_balance"
    
    E204:
      code: "E204"
      message: "Transaction broadcast failed"
      http_status: 500
      retryable: true
      recovery_action: "retry_broadcast"
    
    E205:
      code: "E205"
      message: "Transaction confirmation timeout"
      http_status: 504
      retryable: true
      recovery_action: "check_transaction_status"
    
    E206:
      code: "E206"
      message: "Transaction not found"
      http_status: 404
      retryable: false
      recovery_action: "verify_transaction_id"
    
    E207:
      code: "E207"
      message: "Transaction signature invalid"
      http_status: 400
      retryable: false
      recovery_action: "verify_signature"

  # Account Errors (E3xx)
  account:
    E300:
      code: "E300"
      message: "Invalid TRON address"
      http_status: 400
      retryable: false
      recovery_action: "validate_address_format"
    
    E301:
      code: "E301"
      message: "Account not found"
      http_status: 404
      retryable: false
      recovery_action: "verify_address"
    
    E302:
      code: "E302"
      message: "Account query failed"
      http_status: 500
      retryable: true
      recovery_action: "retry_query"
    
    E303:
      code: "E303"
      message: "Account balance query failed"
      http_status: 500
      retryable: true
      recovery_action: "retry_balance_query"

  # Configuration Errors (E4xx)
  configuration:
    E400:
      code: "E400"
      message: "Invalid configuration"
      http_status: 500
      retryable: false
      recovery_action: "check_configuration"
    
    E401:
      code: "E401"
      message: "Missing required configuration"
      http_status: 500
      retryable: false
      recovery_action: "set_required_config"
    
    E402:
      code: "E402"
      message: "Configuration validation failed"
      http_status: 500
      retryable: false
      recovery_action: "validate_configuration"

  # Rate Limiting Errors (E5xx)
  rate_limit:
    E500:
      code: "E500"
      message: "Rate limit exceeded"
      http_status: 429
      retryable: true
      recovery_action: "wait_and_retry"
    
    E501:
      code: "E501"
      message: "Daily rate limit exceeded"
      http_status: 429
      retryable: false
      recovery_action: "wait_for_daily_reset"
    
    E502:
      code: "E502"
      message: "Hourly rate limit exceeded"
      http_status: 429
      retryable: true
      recovery_action: "wait_for_hourly_reset"

  # Circuit Breaker Errors (E6xx)
  circuit_breaker:
    E600:
      code: "E600"
      message: "Circuit breaker open"
      http_status: 503
      retryable: true
      recovery_action: "wait_for_circuit_recovery"
    
    E601:
      code: "E601"
      message: "Circuit breaker half-open limit reached"
      http_status: 503
      retryable: true
      recovery_action: "wait_for_circuit_recovery"

  # Service Errors (E7xx)
  service:
    E700:
      code: "E700"
      message: "Service unavailable"
      http_status: 503
      retryable: true
      recovery_action: "check_service_health"
    
    E701:
      code: "E701"
      message: "Service initialization failed"
      http_status: 500
      retryable: false
      recovery_action: "restart_service"
    
    E702:
      code: "E702"
      message: "Service health check failed"
      http_status: 503
      retryable: true
      recovery_action: "check_dependencies"

  # Database Errors (E8xx)
  database:
    E800:
      code: "E800"
      message: "MongoDB connection failed"
      http_status: 503
      retryable: true
      recovery_action: "retry_database_connection"
    
    E801:
      code: "E801"
      message: "MongoDB query failed"
      http_status: 500
      retryable: true
      recovery_action: "retry_query"
    
    E802:
      code: "E802"
      message: "Redis connection failed"
      http_status: 503
      retryable: true
      recovery_action: "retry_redis_connection"
    
    E803:
      code: "E803"
      message: "Redis operation failed"
      http_status: 500
      retryable: true
      recovery_action: "retry_operation"

  # Internal Errors (E9xx)
  internal:
    E900:
      code: "E900"
      message: "Internal server error"
      http_status: 500
      retryable: false
      recovery_action: "check_logs"
    
    E901:
      code: "E901"
      message: "Unexpected error"
      http_status: 500
      retryable: false
      recovery_action: "check_logs"
    
    E902:
      code: "E902"
      message: "Operation timeout"
      http_status: 504
      retryable: true
      recovery_action: "increase_timeout_or_retry"

# Success Codes
success:
  S100:
    code: "S100"
    message: "Transaction broadcast successful"
  
  S101:
    code: "S101"
    message: "Transaction confirmed"
  
  S102:
    code: "S102"
    message: "Account query successful"
  
  S103:
    code: "S103"
    message: "Network info retrieved successfully"
  
  S104:
    code: "S104"
    message: "Balance query successful"

# Error Code Mapping
mapping:
  # Map exception types to error codes
  exceptions:
    ConnectionError: "E100"
    TimeoutError: "E101"
    ValueError: "E200"
    KeyError: "E401"
    AttributeError: "E401"
    TypeError: "E200"
  
  # Map HTTP status codes to error codes
  http_status:
    400: "E200"
    404: "E206"
    429: "E500"
    500: "E900"
    503: "E700"
    504: "E101"

