# ==============================================================================
# TRON Payment System - Environment Configuration
# ==============================================================================
# 
# This file contains all environment variables required for the TRON payment
# system services. Copy this file to .env and configure the values for your
# deployment environment.
#
# Security Note: Never commit the actual .env file to version control.
# ==============================================================================

# ==============================================================================
# General Configuration
# ==============================================================================
LUCID_ENV=production
SERVICE_NAME=tron-payment-service
LOG_LEVEL=INFO
DEBUG=false

# ==============================================================================
# TRON Network Configuration
# ==============================================================================
# TRON Network (mainnet or shasta)
TRON_NETWORK=mainnet

# TRON RPC URLs
TRON_RPC_URL_MAINNET=https://api.trongrid.io
TRON_RPC_URL_SHASTA=https://api.shasta.trongrid.io

# TRON API Key (required for production)
TRON_API_KEY=your_tron_api_key_here

# TRON Contract Addresses
USDT_CONTRACT_ADDRESS=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
STAKING_CONTRACT_ADDRESS=TLyqzVGLV1srkB7dToTAEqgDSfPtXRJZYH

# ==============================================================================
# Service URLs (Internal Network)
# ==============================================================================
TRON_CLIENT_URL=http://tron-client:8091
PAYOUT_ROUTER_URL=http://payout-router:8092
WALLET_MANAGER_URL=http://wallet-manager:8093
USDT_MANAGER_URL=http://usdt-manager:8094
TRX_STAKING_URL=http://trx-staking:8095
PAYMENT_GATEWAY_URL=http://payment-gateway:8096

# ==============================================================================
# Database Configuration
# ==============================================================================
# MongoDB connection for payment records
MONGODB_URL=mongodb://lucid:lucid@mongodb:27017/lucid-payments?authSource=admin
MONGODB_DATABASE=lucid-payments

# Redis connection for caching
REDIS_URL=redis://redis:6379/1
REDIS_PASSWORD=lucid

# ==============================================================================
# Security Configuration
# ==============================================================================
# JWT Secret for service authentication
JWT_SECRET=your_jwt_secret_here

# Encryption key for wallet storage
WALLET_ENCRYPTION_KEY=your_wallet_encryption_key_here

# API Keys for external services
TRON_API_KEY=your_tron_api_key_here

# ==============================================================================
# Wallet Configuration
# ==============================================================================
# Wallet storage path
WALLET_STORAGE_PATH=/app/wallets

# Wallet encryption settings
WALLET_ENCRYPTION_ALGORITHM=AES-256-GCM
WALLET_KEY_DERIVATION_ITERATIONS=100000

# ==============================================================================
# Payment Configuration
# ==============================================================================
# Minimum payout amount (in TRX)
MIN_PAYOUT_AMOUNT=1.0

# Maximum payout amount (in TRX)
MAX_PAYOUT_AMOUNT=10000.0

# Payout fee (in TRX)
PAYOUT_FEE=0.1

# Transaction timeout (in seconds)
TRANSACTION_TIMEOUT=300

# ==============================================================================
# Staking Configuration
# ==============================================================================
# Minimum staking amount (in TRX)
MIN_STAKING_AMOUNT=1000.0

# Staking duration (in days)
STAKING_DURATION_DAYS=3

# Staking reward rate (percentage)
STAKING_REWARD_RATE=0.1

# ==============================================================================
# Monitoring Configuration
# ==============================================================================
# Prometheus metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9090

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ==============================================================================
# Logging Configuration
# ==============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, text)
LOG_FORMAT=json

# Log file path
LOG_FILE=/app/logs/tron-payment.log

# Log rotation settings
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# ==============================================================================
# Network Configuration
# ==============================================================================
# Service ports
TRON_CLIENT_PORT=8091
PAYOUT_ROUTER_PORT=8092
WALLET_MANAGER_PORT=8093
USDT_MANAGER_PORT=8094
TRX_STAKING_PORT=8095
PAYMENT_GATEWAY_PORT=8096

# Network interface
BIND_ADDRESS=0.0.0.0

# ==============================================================================
# Development Configuration
# ==============================================================================
# Development mode settings
DEV_MODE=false
HOT_RELOAD=false

# Test network settings (for development)
TEST_NETWORK=false
TEST_WALLET_ADDRESS=your_test_wallet_address_here

# ==============================================================================
# Backup Configuration
# ==============================================================================
# Backup enabled
BACKUP_ENABLED=true

# Backup interval (in hours)
BACKUP_INTERVAL=24

# Backup retention (in days)
BACKUP_RETENTION_DAYS=7

# Backup storage path
BACKUP_STORAGE_PATH=/app/backups

# ==============================================================================
# Security Headers
# ==============================================================================
# CORS settings
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ==============================================================================
# External Service URLs
# ==============================================================================
# External API endpoints
EXTERNAL_API_BASE_URL=https://api.lucid-rdp.onion
EXTERNAL_WEBHOOK_URL=https://webhooks.lucid-rdp.onion

# ==============================================================================
# Container Configuration
# ==============================================================================
# Container resource limits
MEMORY_LIMIT=512M
CPU_LIMIT=0.5

# Container health check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=40s
