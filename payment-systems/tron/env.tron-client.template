# ==============================================================================
# TRON Client Service - Environment Configuration Template
# ==============================================================================
# 
# This template file contains all environment variables required for the
# tron-client container. Copy this file to .env.tron-client and configure
# the values for your deployment environment.
#
# Usage:
#   cp configs/environment/env.tron-client.template configs/environment/.env.tron-client
#   # Edit .env.tron-client with your actual values
#
# IMPORTANT: Sensitive values (passwords, keys, secrets) should be set in
# .env.secrets, NOT in this file. This file is for service-specific configuration only.
#
# Security Note: Never commit the actual .env.tron-client file to version control.
# This template file is safe to commit as it contains no secrets.
# ==============================================================================

# ==============================================================================
# SERVICE CONFIGURATION
# ==============================================================================
LUCID_ENV=production
LUCID_PLATFORM=arm64
PROJECT_ROOT=/mnt/myssd/Lucid/Lucid

SERVICE_NAME=lucid-tron-client
SERVICE_PORT=8091
SERVICE_HOST=0.0.0.0
SERVICE_URL=http://lucid-tron-client:8091

TRON_CLIENT_HOST=lucid-tron-client
TRON_CLIENT_PORT=8091
TRON_CLIENT_URL=http://lucid-tron-client:8091

# Uvicorn Configuration
WORKERS=1
TIMEOUT=30
LOG_LEVEL=INFO
DEBUG=false
ACCESS_LOG=true
BIND_ADDRESS=0.0.0.0

# ==============================================================================
# TRON NETWORK CONFIGURATION
# ==============================================================================
# TRON Network (mainnet, testnet, or shasta)
TRON_NETWORK=mainnet

# TRON RPC URLs
TRON_RPC_URL=https://api.trongrid.io
TRON_RPC_URL_MAINNET=https://api.trongrid.io
TRON_RPC_URL_SHASTA=https://api.shasta.trongrid.io
TRON_RPC_URL_TESTNET=https://api.shasta.trongrid.io

# Custom TRON HTTP Endpoint (optional, overrides network defaults)
# Leave empty to use default based on TRON_NETWORK
TRON_HTTP_ENDPOINT=${TRON_HTTP_ENDPOINT}

# TRON Timeout
TRON_TIMEOUT=30

# USDT Contract Addresses
USDT_CONTRACT_ADDRESS=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
USDT_CONTRACT_ADDRESS_MAINNET=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
USDT_CONTRACT_ADDRESS_SHASTA=TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs
USDT_DECIMALS=6

# TRON Network Chain IDs (optional)
TRON_CHAIN_ID_MAINNET=0x2b6653dc
TRON_CHAIN_ID_TESTNET=0x94a9059e
TRON_CHAIN_ID_SHASTA=0x94a9059e

# TRON Network Names (optional)
TRON_NETWORK_NAME_MAINNET=TRON Mainnet
TRON_NETWORK_NAME_TESTNET=TRON Testnet
TRON_NETWORK_NAME_SHASTA=TRON Shasta

# ==============================================================================
# DATA STORAGE CONFIGURATION
# ==============================================================================
DATA_DIRECTORY=/data/payment-systems
TRON_DATA_DIR=/data/payment-systems/tron-client
LOG_FILE=/app/logs/tron-client.log
TRON_LOG_FILE=/app/logs/tron-client.log

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# Database names only - credentials come from .env.secrets
MONGODB_DATABASE=lucid_payments
REDIS_DATABASE=0

# ==============================================================================
# PAYMENT CONFIGURATION
# ==============================================================================
MIN_PAYMENT_AMOUNT=0.01
MAX_PAYMENT_AMOUNT=10000.0
DAILY_PAYMENT_LIMIT=100000.0
PAYMENT_TIMEOUT=300

# ==============================================================================
# STAKING CONFIGURATION
# ==============================================================================
MIN_STAKING_AMOUNT=1.0
MAX_STAKING_AMOUNT=1000000.0
STAKING_DURATION_MIN=1
STAKING_DURATION_MAX=365

# ==============================================================================
# WALLET CONFIGURATION
# ==============================================================================
MAX_WALLETS_PER_USER=10
WALLET_BACKUP_ENABLED=true
WALLET_ENCRYPTION_ENABLED=true

# ==============================================================================
# MONITORING & HEALTH CHECK CONFIGURATION
# ==============================================================================
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=60

# ==============================================================================
# RATE LIMITING CONFIGURATION
# ==============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_BURST=200
RATE_LIMIT_WINDOW=60

# ==============================================================================
# CIRCUIT BREAKER CONFIGURATION
# ==============================================================================
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=300

# ==============================================================================
# RETRY CONFIGURATION
# ==============================================================================
RETRY_MAX_RETRIES=3
RETRY_INITIAL_DELAY=1
RETRY_MAX_DELAY=60
RETRY_EXPONENTIAL_BASE=2
RETRY_JITTER=true

# ==============================================================================
# CONNECTION POOL CONFIGURATION
# ==============================================================================
CONNECTION_POOL_MAX_CONNECTIONS=1000
CONNECTION_POOL_MAX_KEEPALIVE_CONNECTIONS=100
CONNECTION_POOL_KEEPALIVE_EXPIRY=30
CONNECTION_POOL_TIMEOUT=30
CONNECTION_POOL_CONNECT_TIMEOUT=10
CONNECTION_POOL_READ_TIMEOUT=30
CONNECTION_POOL_WRITE_TIMEOUT=30
CONNECTION_POOL_POOL_TIMEOUT=10

# ==============================================================================
# TRANSACTION CONFIGURATION
# ==============================================================================
TRON_TRANSACTION_CONFIRMATION_TIMEOUT=300
TRON_MAX_CONFIRMATION_TIMEOUT=600
TRON_CONFIRMATION_CHECK_INTERVAL=10

# ==============================================================================
# NOTIFICATION CONFIGURATION
# ==============================================================================
NOTIFICATION_ENABLED=true
EMAIL_NOTIFICATIONS=false
WEBHOOK_NOTIFICATIONS=true
WEBHOOK_URL=${WEBHOOK_URL}

# ==============================================================================
# EXTERNAL SERVICE URLs
# ==============================================================================
API_GATEWAY_URL=http://lucid-api-gateway:8080

# Service URLs (Internal Network)
WALLET_MANAGER_URL=http://tron-wallet-manager:8093
USDT_MANAGER_URL=http://tron-usdt-manager:8094
PAYOUT_ROUTER_URL=http://tron-payout-router:8092
PAYMENT_GATEWAY_URL=http://tron-payment-gateway:8097
TRX_STAKING_URL=http://tron-staking:8096

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# ==============================================================================
# TRUSTED HOSTS CONFIGURATION
# ==============================================================================
TRUSTED_HOSTS=*

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
LOG_FORMAT=json
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================
BACKUP_ENABLED=true
BACKUP_INTERVAL=3600
RETENTION_DAYS=30

# ==============================================================================
# DEVELOPMENT CONFIGURATION
# ==============================================================================
MOCK_TRANSACTIONS=false
TEST_MODE=false

# ==============================================================================
# MAX CONNECTIONS CONFIGURATION
# ==============================================================================
MAX_CONNECTIONS=1000

# ==============================================================================
# NOTES
# ==============================================================================
# 1. The following MUST be set in .env.secrets (NOT in this file):
#    - MONGODB_URL (full connection string with password)
#    - MONGODB_PASSWORD (if building connection string)
#    - REDIS_URL (full connection string with password)
#    - REDIS_PASSWORD
#    - JWT_SECRET_KEY
#    - WALLET_ENCRYPTION_KEY (or ENCRYPTION_KEY)
#    - TRONGRID_API_KEY or TRON_API_KEY (for production)
#    - TRON_PRIVATE_KEY (if performing transactions)
#    - TRON_ADDRESS (if performing transactions)
#
# 2. This file is loaded in conjunction with:
#    - .env.foundation
#    - .env.support
#    - .env.secrets (contains all sensitive values)
#    - .env.core
#
# 3. Variables set in docker-compose.support.yml environment section
#    override values from env_file entries.
#
# 4. For production deployments, ensure all sensitive values are set in
#    .env.secrets and never committed to version control.
# ==============================================================================
