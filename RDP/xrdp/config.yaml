# Lucid XRDP API - Configuration File
# Optional YAML configuration for XRDP API service
# File: RDP/xrdp/config.yaml
# Purpose: Configuration for XRDP service management, database connections, and service integration
# NOTE: All service URLs, ports, and database connections must be provided via
# environment variables from docker-compose.application.yml

# Service Configuration
SERVICE_NAME: "lucid-rdp-xrdp"
SERVICE_VERSION: "1.0.0"
DEBUG: false
LOG_LEVEL: "INFO"  # Override with LOG_LEVEL env var

# Network Configuration
HOST: "0.0.0.0"  # Bind address (always 0.0.0.0 in container)
PORT: 3389  # Default port (override with XRDP_PORT env var)
RDP_XRDP_HOST: ""  # Set via RDP_XRDP_HOST env var (service name, not bind address)
XRDP_PORT: ""  # Set via XRDP_PORT env var (string, converted to int)
RDP_XRDP_URL: ""  # Set via RDP_XRDP_URL env var (e.g., http://rdp-xrdp:3389)

# Database Configuration - REQUIRED
# NOTE: Database URLs MUST come from environment variables:
# - MONGODB_URL (required, from .env.secrets)
# - REDIS_URL (required, from .env.core or .env.secrets)
MONGODB_URL: ""  # Set via MONGODB_URL env var (required)
REDIS_URL: ""    # Set via REDIS_URL env var (required)

# Integration Service URLs (from .env.application, .env.core)
# NOTE: Service URLs MUST come from environment variables or docker-compose:
API_GATEWAY_URL: ""  # Set via API_GATEWAY_URL env var (http://api-gateway:8080)
AUTH_SERVICE_URL: ""  # Set via AUTH_SERVICE_URL env var (http://lucid-auth-service:8089)

# Storage Configuration
# NOTE: Storage paths come from volumes mounted in docker-compose.application.yml
CONFIG_STORAGE_PATH: "/app/config"  # Volume mount path: /data/rdp-xrdp/config:/app/config:rw
LOG_STORAGE_PATH: "/app/logs"  # Volume mount path: /logs/rdp-xrdp:/app/logs:rw
TEMP_STORAGE_PATH: "/tmp/xrdp"  # tmpfs mount: /tmp:size=100m

# XRDP Service Configuration
MAX_XRDP_PROCESSES: 10  # Maximum concurrent XRDP processes (range: 1-100)
PROCESS_TIMEOUT: 30  # Process timeout in seconds

# CORS Configuration (from .env.application)
CORS_ORIGINS: "*"  # From environment: CORS_ORIGINS (comma-separated list, default: "*")

# Health Check Configuration
HEALTH_CHECK_INTERVAL: 30  # Health check interval in seconds
HEALTH_CHECK_ENABLED: true  # Enable health check endpoint
