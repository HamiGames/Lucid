# =============================================================================
# Lucid RDP Resource Monitor Service - Environment Variables Template
# =============================================================================
# File: RDP/resource-monitor/config/env.rdp-monitor.template
# Purpose: Template for all configurable environment variables for rdp-monitor container
# Usage: Copy to configs/environment/.env.rdp-monitor and customize values
# =============================================================================

# =============================================================================
# RDP MONITOR SERVICE SETTINGS
# =============================================================================
SERVICE_NAME=lucid-rdp-monitor
SERVICE_VERSION=1.0.0
RDP_MONITOR_HOST=rdp-monitor
RDP_MONITOR_PORT=8093
RDP_MONITOR_URL=http://rdp-monitor:8093
LUCID_NAMESPACE=lucid
LUCID_CLUSTER=application
LUCID_PLATFORM=arm64
LUCID_ENV=production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB Connection - Optional (if not provided, monitoring operates without persistence)
# Values are provided from .env.secrets file via docker-compose
MONGODB_URL=${MONGODB_URL}
MONGO_URL=${MONGODB_URL}
MONGO_DB=lucid
DATABASE_NAME=lucid

# MongoDB Connection Settings
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_CONNECT_TIMEOUT_MS=10000
MONGODB_SOCKET_TIMEOUT_MS=20000
MONGODB_MAX_POOL_SIZE=50
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_RETRY_WRITES=true
MONGODB_RETRY_READS=true

# Redis Connection - Optional (if not provided, caching is disabled)
# Values are provided from .env.secrets file via docker-compose
REDIS_URL=${REDIS_URL}
REDIS_HOST=lucid-redis
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Log storage path (mapped to volume mount)
LOG_STORAGE_PATH=/app/logs

# Temporary storage path (mapped to tmpfs)
TEMP_STORAGE_PATH=/tmp/monitor

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
# Monitoring interval in seconds (how often to collect metrics)
# Range: 1-3600 seconds (default: 30)
MONITORING_INTERVAL=30

# Collection interval in seconds (how often metrics are aggregated)
# Range: 1-3600 seconds (default: 30)
COLLECTION_INTERVAL=30

# Metrics history configuration
METRICS_HISTORY_LIMIT=100
METRICS_CLEANUP_HOURS=24

# =============================================================================
# ALERT THRESHOLDS CONFIGURATION
# =============================================================================
# CPU usage alert threshold (percentage)
# Range: 0-100 (default: 80.0)
CPU_THRESHOLD_PERCENT=80.0

# Memory usage alert threshold (percentage)
# Range: 0-100 (default: 80.0)
MEMORY_THRESHOLD_PERCENT=80.0

# Disk usage alert threshold (percentage)
# Range: 0-100 (default: 90.0)
DISK_THRESHOLD_PERCENT=90.0

# Network bandwidth alert threshold (MB/s)
# Default: 1000.0 MB/s
NETWORK_BANDWIDTH_THRESHOLD_MB=1000.0

# =============================================================================
# METRICS CONFIGURATION
# =============================================================================
# Enable metrics collection
METRICS_ENABLED=true

# Enable Prometheus metrics export
PROMETHEUS_ENABLED=true

# Export metrics endpoint
EXPORT_METRICS_ENDPOINT=true

# Metrics port (if enabled)
METRICS_PORT=9216

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Maximum number of sessions to monitor concurrently
# Range: 1-1000 (default: 100)
MAX_CONCURRENT_SESSIONS=100

# Maximum cached metrics per session
SESSION_METRICS_CACHE_SIZE=1000

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
# Health check interval in seconds (accepts '30s' format)
HEALTH_CHECK_INTERVAL=30

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# Health check timeout in seconds
HEALTH_CHECK_TIMEOUT=10

# Health check start period in seconds
HEALTH_CHECK_START_PERIOD=40

# Health check retries
HEALTH_CHECK_RETRIES=3

# =============================================================================
# INTEGRATION SERVICE CONFIGURATION
# =============================================================================
# RDP Server Manager Service
RDP_SERVER_MANAGER_URL=http://rdp-server-manager:8081
RDP_SERVER_MANAGER_HOST=rdp-server-manager
RDP_SERVER_MANAGER_PORT=8081

# RDP XRDP Service
RDP_XRDP_URL=http://rdp-xrdp:3389
RDP_XRDP_HOST=rdp-xrdp
XRDP_PORT=3389

# RDP Controller Service
RDP_CONTROLLER_URL=http://rdp-controller:8092
RDP_CONTROLLER_HOST=rdp-controller
RDP_CONTROLLER_PORT=8092

# =============================================================================
# INTEGRATION SERVICE SETTINGS
# =============================================================================
# Service call timeout in seconds
SERVICE_TIMEOUT_SECONDS=30

# Number of retry attempts for failed service calls
SERVICE_RETRY_COUNT=3

# Delay between retry attempts in seconds
SERVICE_RETRY_DELAY_SECONDS=1.0

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
DEBUG=false

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed CORS origins (comma-separated list or "*" for all)
CORS_ORIGINS=*

# =============================================================================
# PYTHON CONFIGURATION
# =============================================================================
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1
PYTHONPATH=/app
PYTHONIOENCODING=utf-8

# =============================================================================
# NOTES
# =============================================================================
# 1. Database connection strings (MONGODB_URL, REDIS_URL) are automatically
#    loaded from .env.secrets file via docker-compose - no manual replacement needed
# 2. MongoDB and Redis are optional for rdp-monitor - the service can operate
#    without them, but some features will be limited
# 3. Monitoring intervals should be adjusted based on system load and
#    requirements (lower = more frequent but higher CPU usage)
# 4. Alert thresholds can be tuned based on your resource constraints
#    and performance requirements
# 5. All service URLs should use service names (not localhost) for Docker
#    networking
# 6. METRICS_PORT is separate from the main service port (8093) for metrics
#    export endpoints
# =============================================================================

