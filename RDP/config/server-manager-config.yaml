# Lucid RDP Server Manager - Configuration File
# Optional YAML configuration for RDP server management
# File: RDP/config/server-manager-config.yaml
# Purpose: Configuration for server templates, port management, and connection policies
# This file uses a flat structure matching the configuration model
# Environment variables from docker-compose.application.yml override these values
# Values with empty strings MUST be provided via environment variables

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
SERVICE_NAME: "lucid-rdp-server-manager"
SERVICE_VERSION: "1.0.0"
DEBUG: false
LOG_LEVEL: "INFO"
HOST: "0.0.0.0"
PORT: 8081
MONITORING_PORT: 8090

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
# MUST come from docker-compose.application.yml environment section
RDP_SERVER_MANAGER_HOST: ""
RDP_SERVER_MANAGER_PORT: ""
RDP_SERVER_MANAGER_URL: ""

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MUST come from .env.secrets via docker-compose.application.yml
MONGODB_URL: ""
REDIS_URL: ""

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Default paths matching volume mounts in docker-compose.application.yml
LOG_STORAGE_PATH: "/app/logs"
TEMP_STORAGE_PATH: "/tmp/server-manager"

# =============================================================================
# PORT MANAGEMENT CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
PORT_MANAGEMENT_ENABLED: true
PORT_RANGE_START: 3390
PORT_RANGE_END: 3499
PORT_ALLOCATION_STRATEGY: "sequential"
PORT_REUSE_DELAY_SECONDS: 60
MAX_PORTS_PER_USER: 5
PORT_HEALTH_CHECK: true
PORT_HEALTH_CHECK_INTERVAL_SECONDS: 30

# =============================================================================
# CONNECTION CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
MAX_CONCURRENT_CONNECTIONS: 100
MAX_CONNECTIONS_PER_USER: 10
MAX_CONNECTIONS_PER_IP: 5
CONNECTION_TIMEOUT_SECONDS: 300
IDLE_TIMEOUT_SECONDS: 1800
KEEPALIVE_INTERVAL_SECONDS: 30
CONNECTION_POOL_ENABLED: true
CONNECTION_POOL_SIZE: 50
CONNECTION_POOL_MAX_OVERFLOW: 20
CONNECTION_POOL_TIMEOUT_SECONDS: 30

# =============================================================================
# INTEGRATION SERVICE URLS
# =============================================================================
# MUST come from docker-compose.application.yml environment section
RDP_XRDP_URL: ""
API_GATEWAY_URL: ""
AUTH_SERVICE_URL: ""

# =============================================================================
# XRDP CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
XRDP_CONFIG_PATH: "/etc/xrdp"
XRDP_SESSIONS_PATH: "/var/lib/xrdp/sessions"
XRDP_LOG_PATH: "/var/log/xrdp"
XRDP_PORT: 3389
XRDP_CRYPT_LEVEL: "high"
XRDP_BITMAP_CACHE: true
XRDP_BITMAP_COMPRESSION: true
XRDP_MAX_BPP: 24

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
# Default values
HEALTH_CHECK_INTERVAL: 30
HEALTH_CHECK_ENABLED: true

# =============================================================================
# METRICS CONFIGURATION
# =============================================================================
# Default values
METRICS_ENABLED: true
PROMETHEUS_ENABLED: true
METRICS_PORT: 9090
EXPORT_METRICS_ENDPOINT: true

# =============================================================================
# RETRY CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
SERVICE_TIMEOUT_SECONDS: 30
SERVICE_RETRY_COUNT: 3
SERVICE_RETRY_DELAY_SECONDS: 1.0

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Default value - can be overridden by environment variables
CORS_ORIGINS: "*"
