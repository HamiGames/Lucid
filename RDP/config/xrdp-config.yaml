# Lucid XRDP - Configuration File
# Optional YAML configuration for XRDP service
# File: RDP/config/xrdp-config.yaml
# Purpose: Configuration for XRDP protocol settings, display configuration, and session management
# This file uses a flat structure matching the configuration model
# Environment variables from docker-compose.application.yml override these values
# Values with empty strings MUST be provided via environment variables

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
SERVICE_NAME: "lucid-rdp-xrdp"
SERVICE_VERSION: "1.0.0"
DEBUG: false
LOG_LEVEL: "INFO"
HOST: "0.0.0.0"
XRDP_PORT: 3389
XRDP_DISPLAY: ":10"

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
# MUST come from docker-compose.application.yml environment section
RDP_XRDP_HOST: ""
RDP_XRDP_URL: ""

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MUST come from .env.secrets via docker-compose.application.yml
MONGODB_URL: ""
REDIS_URL: ""

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Default paths matching volume mounts in docker-compose.application.yml
LOG_STORAGE_PATH: "/app/logs"
TEMP_STORAGE_PATH: "/tmp/xrdp"

# =============================================================================
# XRDP SERVER CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
XRDP_BIND_ADDRESS: "0.0.0.0"
XRDP_TCP_NODELAY: true
XRDP_TCP_KEEPALIVE: true
XRDP_TCP_KEEPALIVE_INTERVAL: 30
XRDP_CRYPT_LEVEL: "high"
XRDP_SSL_PROTOCOLS: "TLSv1.2,TLSv1.3"
XRDP_CERTIFICATE_PATH: "/etc/xrdp/cert.pem"
XRDP_KEY_PATH: "/etc/xrdp/key.pem"
XRDP_ALLOW_ROOT_LOGIN: false
XRDP_MAX_LOGIN_ATTEMPTS: 3
XRDP_LOGIN_TIMEOUT: 60

# =============================================================================
# XRDP PERFORMANCE CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
XRDP_BITMAP_CACHE: true
XRDP_BITMAP_COMPRESSION: true
XRDP_MAX_BPP: 24
XRDP_USE_FASTPATH: "both"
XRDP_BULK_COMPRESSION: true
XRDP_JPEG_QUALITY: 80
XRDP_H264_CODEC: true

# =============================================================================
# DISPLAY CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
DISPLAY_DEFAULT: ":10"
DISPLAY_RESOLUTION: "1920x1080"
DISPLAY_COLOR_DEPTH: 24
DISPLAY_DPI: 96
MULTI_DISPLAY_ENABLED: false
MULTI_DISPLAY_MAX: 2

# =============================================================================
# SESSION CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
SESSION_TYPE: "Xorg"
SESSION_STARTUP_SCRIPT: "/etc/xrdp/startwm.sh"
SESSION_SHUTDOWN_SCRIPT: "/etc/xrdp/stopwm.sh"
SESSION_TIMEOUT_SECONDS: 7200
SESSION_IDLE_TIMEOUT_SECONDS: 1800
MAX_SESSIONS_PER_USER: 5
MAX_CONCURRENT_SESSIONS: 50

# =============================================================================
# AUDIO CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
AUDIO_ENABLED: true
AUDIO_OUTPUT: true
AUDIO_INPUT: true
AUDIO_QUALITY: "high"
AUDIO_CODEC: "opus"
AUDIO_SAMPLE_RATE: 48000
AUDIO_CHANNELS: 2

# =============================================================================
# CLIPBOARD CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
CLIPBOARD_ENABLED: true
CLIPBOARD_SYNC_DIRECTION: "bidirectional"
CLIPBOARD_MAX_SIZE_MB: 10

# =============================================================================
# FILE TRANSFER CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
FILE_TRANSFER_ENABLED: true
FILE_TRANSFER_MAX_SIZE_MB: 100
FILE_TRANSFER_TIMEOUT_SECONDS: 300

# =============================================================================
# INTEGRATION SERVICE URLS
# =============================================================================
# MUST come from docker-compose.application.yml environment section
RDP_SERVER_MANAGER_URL: ""
RDP_CONTROLLER_URL: ""
RDP_MONITOR_URL: ""

# =============================================================================
# INTEGRATION SERVICE CONFIGURATION
# =============================================================================
# Default values - can be overridden by environment variables
SERVICE_TIMEOUT_SECONDS: 30
SERVICE_RETRY_COUNT: 3
AUTO_REGISTER: true
REPORT_INTERVAL_SECONDS: 30

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
# Default values
HEALTH_CHECK_INTERVAL: 30
HEALTH_CHECK_ENABLED: true

# =============================================================================
# METRICS CONFIGURATION
# =============================================================================
# Default values
METRICS_ENABLED: true
PROMETHEUS_ENABLED: true
METRICS_PORT: 9090
EXPORT_METRICS_ENDPOINT: true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Default value - can be overridden by environment variables
CORS_ORIGINS: "*"
