# =============================================================================
# Lucid Node Management Service - Environment Variables Template
# =============================================================================
# File: node/config/env.node-management.template
# Purpose: Template for all configurable environment variables for node-management container
# Usage: Copy to configs/environment/.env.node-management and customize values
# =============================================================================

# =============================================================================
# NODE MANAGEMENT SERVICE SETTINGS
# =============================================================================
SERVICE_NAME=node-management
SERVICE_VERSION=1.0.0
NODE_MANAGEMENT_HOST=node-management
NODE_MANAGEMENT_PORT=8095
NODE_MANAGEMENT_STAGING_PORT=8099
NODE_MANAGEMENT_URL=http://node-management:8095
LUCID_NAMESPACE=lucid
LUCID_CLUSTER=application
LUCID_PLATFORM=arm64
LUCID_ENV=production

# Network bind address (always 0.0.0.0 for container binding, not hostname)
HOST=0.0.0.0
PORT=8095

# =============================================================================
# DATABASE CONFIGURATION - REQUIRED
# =============================================================================
# MongoDB Connection - REQUIRED
# Note: MONGODB_URL typically comes from .env.foundation or .env.secrets
MONGODB_URL=mongodb://lucid:${MONGODB_PASSWORD}@lucid-mongodb:27017/lucid?authSource=admin
MONGODB_URI=${MONGODB_URL}
MONGODB_HOST=lucid-mongodb
MONGODB_PORT=27017
MONGODB_DATABASE=lucid_node_management

# MongoDB Connection Settings
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_CONNECT_TIMEOUT_MS=10000
MONGODB_SOCKET_TIMEOUT_MS=20000
MONGODB_MAX_POOL_SIZE=50
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_RETRY_WRITES=true
MONGODB_RETRY_READS=true

# Redis Connection - REQUIRED
# Note: REDIS_URL typically comes from .env.core or .env.secrets
REDIS_URL=redis://:${REDIS_PASSWORD}@lucid-redis:6379/0
REDIS_URI=${REDIS_URL}
REDIS_HOST=lucid-redis
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# NODE POOL CONFIGURATION
# =============================================================================
# Maximum nodes per pool (default: 100)
MAX_NODES_PER_POOL=100

# Minimum nodes per pool (default: 3)
MIN_NODES_PER_POOL=3

# Pool health check interval in seconds (default: 300)
POOL_HEALTH_CHECK_INTERVAL=300

# Pool synchronization interval in seconds (default: 60)
POOL_SYNC_INTERVAL=60

# =============================================================================
# POOT (Proof of Operational Trust) CONFIGURATION
# =============================================================================
# PoOT calculation interval in seconds (default: 300)
POOT_CALCULATION_INTERVAL=300

# PoOT challenge validity in minutes (default: 15)
POOT_CHALLENGE_VALIDITY_MINUTES=15

# PoOT proof cache time in minutes (default: 60)
POOT_PROOF_CACHE_MINUTES=60

# Minimum token stake amount (default: 100.0)
MIN_TOKEN_STAKE_AMOUNT=100.0

# Maximum validation attempts (default: 3)
MAX_VALIDATION_ATTEMPTS=3

# Challenge complexity in bytes (default: 32)
CHALLENGE_COMPLEXITY_BYTES=32

# PoOT score threshold (default: 0.5)
POOT_SCORE_THRESHOLD=0.5

# PoOT validation required (default: true)
POOT_VALIDATION_REQUIRED=true

# =============================================================================
# PAYOUT CONFIGURATION
# =============================================================================
# Payout threshold in USDT (default: 10.0)
PAYOUT_THRESHOLD_USDT=10.0

# Payout processing interval in seconds (default: 3600)
PAYOUT_PROCESSING_INTERVAL=3600

# Payout processing fee percentage (default: 1.0)
PAYOUT_PROCESSING_FEE_PERCENT=1.0

# Minimum payout amount in USDT (default: 1.0)
PAYOUT_MIN_AMOUNT_USDT=1.0

# Maximum payout amount in USDT (default: 10000.0)
PAYOUT_MAX_AMOUNT_USDT=10000.0

# =============================================================================
# TRON INTEGRATION (OPTIONAL)
# =============================================================================
# TRON network (mainnet or testnet)
TRON_NETWORK=mainnet

# TRON API URL
TRON_API_URL=https://api.trongrid.io

# TRON API key (set via .env.secrets)
# TRON_API_KEY=${TRON_API_KEY}

# USDT contract address on TRON
USDT_CONTRACT_ADDRESS=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t

# TRON payment gateway URL (optional)
# TRON_PAYMENT_URL=http://tron-payment-gateway:8097

# =============================================================================
# INTEGRATION SERVICE URLS
# =============================================================================
# API Gateway URL - OPTIONAL
API_GATEWAY_URL=http://api-gateway:8080

# Blockchain Engine URL - OPTIONAL
BLOCKCHAIN_ENGINE_URL=http://blockchain-engine:8084

# Node Management API URL (for Electron GUI)
NODE_MANAGEMENT_API_URL=http://node-management:8095/api/v1

# Electron GUI endpoint
ELECTRON_GUI_ENDPOINT=http://node-management:8095/api/v1

# =============================================================================
# NODE REGISTRATION CONFIGURATION
# =============================================================================
# Node registration enabled (default: true)
NODE_REGISTRATION_ENABLED=true

# Node verification required (default: true)
NODE_VERIFICATION_REQUIRED=true

# Node health check interval in seconds (default: 60)
NODE_HEALTH_CHECK_INTERVAL=60

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json
DEBUG=false

# =============================================================================
# STORAGE PATH CONFIGURATION
# =============================================================================
# Data storage base path (volume mount: /data/node-management:/app/data)
LUCID_DATA_PATH=/app/data

# Log storage path (volume mount: /logs/node-management:/app/logs)
LUCID_LOG_PATH=/app/logs

# Log file path
LOG_FILE=/app/logs/node-management.log

# Temporary storage path (tmpfs mount: /tmp:size=100m)
TEMP_STORAGE_PATH=/tmp/nodes

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
# Metrics enabled (default: true)
METRICS_ENABLED=true

# Metrics port (default: 9090)
METRICS_PORT=9090

# Health check interval in seconds (default: 30)
HEALTH_CHECK_INTERVAL=30

# Health check enabled (default: true)
HEALTH_CHECK_ENABLED=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Service timeout in seconds (default: 30)
SERVICE_TIMEOUT_SECONDS=30

# Service retry configuration
SERVICE_RETRY_COUNT=3
SERVICE_RETRY_DELAY_SECONDS=1.0

# Workers (default: 1)
WORKERS=1

# Reload on code changes (default: false, for development)
RELOAD=false

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Secure cookies (default: true)
SECURE_COOKIES=true

# CORS origins (default: *)
CORS_ORIGINS=*

# Trusted hosts (default: *)
TRUSTED_HOSTS=*

# Production mode (default: false, set to true in production)
PRODUCTION=false

# =============================================================================
# PYTHON CONFIGURATION
# =============================================================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

