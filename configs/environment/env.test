# LUCID Test Environment Configuration
# Phase: Throughout all phases
# Generated: 2025-01-14
# Based on: BUILD_REQUIREMENTS_GUIDE.md - Step 43

# ============================================================================
# PROJECT IDENTIFICATION
# ============================================================================
LUCID_PROJECT=lucid
LUCID_VERSION=1.0.0
LUCID_ENVIRONMENT=test
LUCID_DEBUG=true

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_REGISTRY=ghcr.io
DOCKER_NAMESPACE=hamigames
DOCKER_IMAGE_PREFIX=lucid

# Network Configuration
LUCID_NETWORK_NAME=lucid-test
LUCID_NETWORK_SUBNET=172.23.0.0/16
LUCID_NETWORK_GATEWAY=172.23.0.1

# ============================================================================
# PYTHON ENVIRONMENT
# ============================================================================
PYTHON_VERSION=3.11
PYTHON_ENV=test
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
PYTHONPATH=/app

# ============================================================================
# SERVICE CONFIGURATION
# ============================================================================

# API Gateway (Cluster 01)
API_GATEWAY_SERVICE_NAME=api-gateway
API_GATEWAY_PORT=8080
API_GATEWAY_DEBUG=true
API_GATEWAY_LOG_LEVEL=DEBUG

# Blockchain Core (Cluster 02)
BLOCKCHAIN_ENGINE_SERVICE_NAME=lucid-blocks
BLOCKCHAIN_ENGINE_PORT=8084
BLOCKCHAIN_NETWORK=lucid_blocks_test
CONSENSUS_ALGORITHM=PoOT
BLOCK_TIME_SECONDS=5

# Session Management (Cluster 03)
SESSION_PIPELINE_PORT=8083
SESSION_RECORDER_PORT=8084
SESSION_PROCESSOR_PORT=8085
SESSION_STORAGE_PORT=8086
SESSION_API_PORT=8087

# RDP Services (Cluster 04)
RDP_SERVER_MANAGER_PORT=8090
RDP_XRDP_PORT=8091
RDP_SESSION_CONTROLLER_PORT=8092
RDP_RESOURCE_MONITOR_PORT=8093

# Node Management (Cluster 05)
NODE_MANAGEMENT_PORT=8095
NODE_POOL_SIZE=5
NODE_MIN_POOT_SCORE=0.1

# Admin Interface (Cluster 06)
ADMIN_INTERFACE_PORT=8083
ADMIN_DEBUG=true

# TRON Payment (Cluster 07) - ISOLATED
TRON_PAYMENT_PORT=8085
TRON_NETWORK=testnet
TRON_ISOLATION_ENABLED=true

# Storage Database (Cluster 08)
MONGODB_PORT=27017
REDIS_PORT=6379
ELASTICSEARCH_PORT=9200

# Authentication (Cluster 09)
AUTH_SERVICE_PORT=8089
AUTH_DEBUG=true

# Cross-Cluster Integration (Cluster 10)
SERVICE_MESH_ENABLED=false
CONSUL_PORT=8500

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# MongoDB
MONGODB_HOST=mongodb
MONGODB_DATABASE=lucid_test
MONGODB_URI=mongodb://lucid:${MONGODB_PASSWORD:-lucid}@mongodb:27017/lucid_test?authSource=admin
MONGODB_REPLICA_SET=rs0
MONGODB_AUTH_ENABLED=false
MONGODB_USER=lucid
MONGODB_PASSWORD=test_password

# Redis
REDIS_HOST=redis
REDIS_URI=redis://redis:6379/0
REDIS_PASSWORD=test_password
REDIS_CLUSTER_ENABLED=false

# Elasticsearch
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_URI=http://elasticsearch:9200
ELASTICSEARCH_INDEX_PREFIX=lucid_test
ELASTICSEARCH_CLUSTER_NAME=lucid-test-cluster
ELASTICSEARCH_SECURITY_ENABLED=false

# ============================================================================
# AUTHENTICATION CONFIGURATION
# ============================================================================
JWT_SECRET_KEY=test_jwt_secret_key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=1

# TRON Signature Verification
TRON_SIGNATURE_VERIFICATION_ENABLED=false
TRON_NETWORK=testnet

# Hardware Wallet Support
ENABLE_HARDWARE_WALLET=false
LEDGER_SUPPORTED=false
TREZOR_SUPPORTED=false
KEEPKEY_SUPPORTED=false

# RBAC Configuration
RBAC_ENABLED=true
DEFAULT_USER_ROLE=user

# ============================================================================
# RATE LIMITING CONFIGURATION
# ============================================================================
RATE_LIMIT_PUBLIC=10000
RATE_LIMIT_AUTHENTICATED=50000
RATE_LIMIT_ADMIN=100000
RATE_LIMIT_CHUNK_UPLOAD=100

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# ============================================================================
# STORAGE PATHS
# ============================================================================
DATA_ROOT=/tmp/data
LOGS_ROOT=/tmp/logs
BACKUPS_ROOT=/tmp/backups

# Database Storage
MONGODB_DATA_PATH=/tmp/data/mongodb
REDIS_DATA_PATH=/tmp/data/redis
ELASTICSEARCH_DATA_PATH=/tmp/data/elasticsearch

# Application Storage
CHUNK_STORAGE_PATH=/tmp/data/chunks
SESSION_STORAGE_PATH=/tmp/data/sessions
MERKLE_STORAGE_PATH=/tmp/data/merkle
BLOCK_STORAGE_PATH=/tmp/data/blocks

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=DEBUG
LOG_FORMAT=json
LOG_FILE_PATH=/tmp/logs/test.log
LOG_MAX_SIZE=1MB
LOG_MAX_FILES=3
LOG_ROTATION_ENABLED=false

# Structured Logging
ENABLE_STRUCTURED_LOGGING=true
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_REQUEST_ID=true
LOG_INCLUDE_USER_ID=true
LOG_INCLUDE_SERVICE_NAME=true

# ============================================================================
# HEALTH CHECK CONFIGURATION
# ============================================================================
HEALTH_CHECK_INTERVAL=10
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=1
HEALTH_CHECK_START_PERIOD=10

# ============================================================================
# MONITORING CONFIGURATION
# ============================================================================
METRICS_ENABLED=false
METRICS_PORT=9090
METRICS_PATH=/metrics
PROMETHEUS_ENABLED=false
GRAFANA_ENABLED=false
GRAFANA_PORT=3000

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
ENCRYPTION_KEY_ROTATION_DAYS=1
SESSION_ENCRYPTION_ENABLED=false
TLS_ENABLED=false
MTLS_ENABLED=false

# Test Security (Minimal)
BCRYPT_ROUNDS=1
MAX_LOGIN_ATTEMPTS=100
LOGIN_COOLDOWN_MINUTES=0

# ============================================================================
# TEST CONFIGURATION
# ============================================================================
DEBUG_MODE=true
VERBOSE_LOGGING=true
PROFILE_PERFORMANCE=false
ENABLE_TRACING=false
ENABLE_HOT_RELOAD=true

# Test Tools
ENABLE_DEBUG_TOOLBAR=true
ENABLE_SQL_LOGGING=true
ENABLE_REQUEST_LOGGING=true

# ============================================================================
# TESTING CONFIGURATION
# ============================================================================
TESTING_FRAMEWORK=pytest
TEST_COVERAGE_MIN=95
TEST_PARALLEL_ENABLED=true
TEST_VERBOSE=true
TEST_DATABASE_URL=mongodb://test:test@mongodb:27017/lucid_test
TEST_REDIS_URL=redis://test:test@redis:6379/1

# Test Database Configuration
TEST_MONGODB_HOST=mongodb
TEST_MONGODB_DATABASE=lucid_test
TEST_MONGODB_URI=mongodb://test:test@mongodb:27017/lucid_test
TEST_REDIS_HOST=redis
TEST_REDIS_URI=redis://test:test@redis:6379/1

# ============================================================================
# CONTAINER CONFIGURATION
# ============================================================================
# Distroless Base Images
DISTROLESS_PYTHON_BASE=gcr.io/distroless/python3-debian12
DISTROLESS_JAVA_BASE=gcr.io/distroless/java17-debian12

# Container Resource Limits (Test - Minimal)
CONTAINER_MEMORY_LIMIT=512M
CONTAINER_CPU_LIMIT=0.5
CONTAINER_RESTART_POLICY=no

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================
NETWORK_TIMEOUT=10
NETWORK_RETRY_ATTEMPTS=1
NETWORK_RETRY_DELAY=1
NETWORK_KEEPALIVE=false

# ============================================================================
# PERFORMANCE CONFIGURATION
# ============================================================================
UVICORN_WORKERS=1
UVICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker
UVICORN_MAX_REQUESTS=100
UVICORN_MAX_REQUESTS_JITTER=10

# ============================================================================
# TEST TOOLS
# ============================================================================
GIT_HOOKS_ENABLED=false
PRE_COMMIT_LINTING=false
PRE_PUSH_TESTING=false
LINTING_ENABLED=false

# ============================================================================
# VALIDATION FLAGS
# ============================================================================
TEST_MODE=true
FOUNDATION_INITIALIZED=false
DATABASE_INITIALIZED=false
AUTH_SERVICE_INITIALIZED=false
NETWORK_INITIALIZED=false
