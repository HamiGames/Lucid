# =============================================================================
# LUCID GUI Docker Manager Service - Service Groups Configuration
# =============================================================================
# File: configs/services/gui-docker-manager-service-groups.yml
# Purpose: Defines service groups and their configurations
# Last updated: 2026-02-25
# =============================================================================

service_groups:
  foundation:
    name: "Foundation Services"
    description: "Core infrastructure services - database, caching, authentication"
    priority: 1
    startup_order: 1
    services:
      - lucid-mongodb
      - lucid-redis
      - lucid-elasticsearch
      - lucid-auth-service
    access_control:
      user: false
      developer: false
      admin: true
    health_checks:
      enabled: true
      interval: 30
      timeout: 10

  core:
    name: "Core Services"
    description: "Core Lucid services - API gateway, blockchain engine, service mesh"
    priority: 2
    startup_order: 2
    services:
      - api-gateway
      - blockchain-engine
      - service-mesh
    dependencies:
      - foundation
    access_control:
      user: false
      developer: true
      admin: true
    health_checks:
      enabled: true
      interval: 30
      timeout: 10

  application:
    name: "Application Services"
    description: "Application layer - session management, node management, RDP"
    priority: 3
    startup_order: 3
    services:
      - lucid-session-pipeline
      - lucid-node-management
      - session-anchoring
      - block-manager
      - data-chain
    dependencies:
      - foundation
      - core
    access_control:
      user: false
      developer: true
      admin: true
    health_checks:
      enabled: true
      interval: 30
      timeout: 10

  gui:
    name: "GUI Services"
    description: "Graphical user interface services - API bridges, managers, handlers"
    priority: 4
    startup_order: 4
    services:
      - lucid-gui-api-bridge
      - lucid-gui-docker-manager
      - lucid-gui-tor-manager
      - lucid-gui-hardware-manager
    dependencies:
      - foundation
      - core
      - application
    access_control:
      user: true
      developer: true
      admin: true
    health_checks:
      enabled: true
      interval: 30
      timeout: 10

  support:
    name: "Support Services"
    description: "Support and utility services - admin interface, payment processing"
    priority: 5
    startup_order: 5
    services:
      - lucid-admin-interface
      - lucid-tron-client
      - lucid-user-interface
      - lucid-node-interface
    dependencies:
      - foundation
      - core
      - application
      - gui
    access_control:
      user: false
      developer: false
      admin: true
    health_checks:
      enabled: true
      interval: 30
      timeout: 10

# Service interdependencies
service_dependencies:
  lucid-mongodb:
    - lucid-redis
    - lucid-auth-service
    
  lucid-redis:
    - lucid-mongodb

  api-gateway:
    - lucid-mongodb
    - lucid-redis
    - lucid-auth-service

  blockchain-engine:
    - lucid-mongodb
    - lucid-redis

  lucid-session-pipeline:
    - api-gateway
    - lucid-mongodb
    - lucid-redis

  lucid-gui-api-bridge:
    - api-gateway
    - lucid-mongodb
    - lucid-redis

  lucid-gui-docker-manager:
    - lucid-mongodb
    - lucid-redis

  lucid-admin-interface:
    - lucid-gui-api-bridge

# Compose files managed by gui-docker-manager
compose_files:
  - docker-compose.foundation.yml
  - docker-compose.core.yml
  - docker-compose.application.yml
  - docker-compose.gui-integration.yml
  - docker-compose.support.yml

# Container labels for identification
labels:
  com.lucid.managed: "true"
  com.lucid.manager: "gui-docker-manager"
