# Distroless Environment Configuration
# This file contains environment variables specific to distroless containers

# =============================================================================
# DISTROLESS BASE CONFIGURATION
# =============================================================================

# Distroless Base Image
DISTROLESS_BASE_IMAGE=gcr.io/distroless/python3-debian12
DISTROLESS_USER=65532:65532
DISTROLESS_SHELL=/bin/false

# Build Configuration
DOCKER_BUILDKIT=1
DOCKER_DEFAULT_PLATFORM=linux/arm64
COMPOSE_DOCKER_CLI_BUILD=1

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Security Options
SECURITY_OPT_NO_NEW_PRIVILEGES=true
SECURITY_OPT_READONLY_ROOTFS=true
SECURITY_OPT_NO_EXEC=true

# Capability Configuration
CAP_DROP=ALL
CAP_ADD=NET_BIND_SERVICE

# =============================================================================
# CONTAINER CONFIGURATION
# =============================================================================

# Container User
CONTAINER_USER=65532
CONTAINER_GROUP=65532
CONTAINER_UID=65532
CONTAINER_GID=65532

# =============================================================================
# RUNTIME CONFIGURATION
# =============================================================================

# Runtime Environment
LUCID_ENV=production
LUCID_PLATFORM=arm64
LUCID_ARCHITECTURE=linux/arm64

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

# Health Check Settings
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=40s

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_OUTPUT=stdout

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Network Settings
NETWORK_MODE=bridge
NETWORK_DRIVER=bridge
NETWORK_MTU=1500

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# Memory Limits
MEMORY_LIMIT=512m
MEMORY_RESERVATION=256m

# CPU Limits
CPU_LIMIT=0.5
CPU_RESERVATION=0.25

# =============================================================================
# DISTROLESS SPECIFIC SETTINGS
# =============================================================================

# Distroless Mode
DISTROLESS_MODE=production
DISTROLESS_SECURITY=hardened
DISTROLESS_OPTIMIZATION=true

# Python Configuration
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
PYTHONPATH=/app

# =============================================================================
# CONTAINER LABELS
# =============================================================================

# Service Labels
SERVICE_LABEL_TYPE=distroless
SERVICE_LABEL_PLATFORM=arm64
SERVICE_LABEL_SECURITY=hardened
SERVICE_LABEL_MODE=production