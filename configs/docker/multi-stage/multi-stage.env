# Multi-Stage Environment Configuration for Lucid Project
# Environment variables for multi-stage Docker configurations

# Build Configuration
BUILD_ENVIRONMENT=production
BUILD_PLATFORM=linux/amd64,linux/arm64
VERSION=latest
REGISTRY=ghcr.io
IMAGE_NAME=lucid
PUSH_IMAGES=false
NO_CACHE=false
OPTIMIZE_LAYERS=true

# Multi-Stage Configuration
BUILD_STAGE=runtime
BUILD_TARGET=multi-stage
INSTALL_BUILD_TOOLS=false
INSTALL_DEV_TOOLS=false
PARALLEL_BUILDS=4

# Runtime Configuration
PYTHONPATH=/app
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1
LOG_LEVEL=INFO
RUNTIME_MODE=production

# Network Configuration
NETWORK_MODE=bridge
NETWORK_NAME=lucid-multi-stage-network
SUBNET=172.23.0.0/16
GATEWAY=172.23.0.1

# Resource Limits
MEMORY_LIMIT=512M
CPU_LIMIT=0.5
MEMORY_RESERVATION=256M
CPU_RESERVATION=0.25

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=15s

# Volume Configuration (Pi Mount Aligned)
DATA_VOLUME=/mnt/myssd/Lucid/Lucid/data
LOG_VOLUME=/mnt/myssd/Lucid/Lucid/logs
CACHE_VOLUME=/mnt/myssd/Lucid/Lucid/cache
BUILD_CACHE_VOLUME=/mnt/myssd/Lucid/Lucid/build-cache
ARTIFACTS_VOLUME=/mnt/myssd/Lucid/Lucid/artifacts

# User Configuration
USER_ID=1000
GROUP_ID=1000
WORKING_DIR=/app

# Capabilities
DROP_CAPABILITIES=ALL
ADD_CAPABILITIES=NET_BIND_SERVICE

# Tmpfs Configuration
TMPFS_TMP_SIZE=200m
TMPFS_VAR_TMP_SIZE=100m
TMPFS_OPTIONS=noexec,nosuid

# Build Optimization
LAYER_CACHING=true
BUILD_CACHE_STRATEGY=aggressive
CLEANUP_OLD_CACHES=true
LAYER_OPTIMIZATION=true

# Development Configuration (when BUILD_ENVIRONMENT=development)
DEBUG_MODE=false
HOT_RELOAD=false
DEV_TOOLS=false
FAST_BUILD=false
DEBUG_BUILD=false

# Testing Configuration
TEST_MODE=false
COVERAGE_ENABLED=false
BUILD_VALIDATION=false
TEST_BUILD=false
