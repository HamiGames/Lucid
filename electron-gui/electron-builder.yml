appId: com.lucid.electron-gui
productName: Lucid Desktop
copyright: Copyright Â© 2024 Lucid Development Team
version: 1.0.0

# Directories configuration
directories:
  output: dist
  buildResources: build

# Files to include in the build
files:
  - "main/**/*"
  - "renderer/**/*"
  - "shared/**/*"
  - "assets/**/*"
  - "configs/**/*"
  - "!**/*.map"
  - "!**/node_modules"
  - "!**/.git"
  - "!**/tests"
  - "!**/*.test.*"
  - "!**/*.spec.*"

# Extra resources (Tor binaries, etc.)
extraResources:
  - from: "assets/tor"
    to: "tor"
    filter: ["**/*"]
  - from: "configs"
    to: "configs"
    filter: ["**/*"]

# File associations
fileAssociations:
  - ext: "lucid"
    name: "Lucid Session File"
    description: "Lucid Session Data File"
    icon: "assets/icons/session.ico"

# Windows configuration
win:
  target:
    - target: nsis
      arch:
        - x64
        - ia32
    - target: portable
      arch:
        - x64
        - ia32
  icon: assets/icons/icon.ico
  requestedExecutionLevel: asInvoker
  publisherName: Lucid Development Team
  verifyUpdateCodeSignature: false
  
  # NSIS installer configuration
  nsis:
    oneClick: false
    allowToChangeInstallationDirectory: true
    allowElevation: true
    installerIcon: assets/icons/installer.ico
    uninstallerIcon: assets/icons/uninstaller.ico
    installerHeaderIcon: assets/icons/header.ico
    createDesktopShortcut: true
    createStartMenuShortcut: true
    shortcutName: "Lucid Desktop"
    include: build/installer.nsh
    script: build/installer.nsh

# macOS configuration
mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
    - target: zip
      arch:
        - x64
        - arm64
  icon: assets/icons/icon.icns
  category: public.app-category.developer-tools
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  notarize: false
  
  # DMG configuration
  dmg:
    title: Lucid Desktop
    icon: assets/icons/dmg-icon.icns
    background: assets/images/dmg-background.png
    contents:
      - x: 410
        y: 150
        type: link
        path: /Applications
      - x: 130
        y: 150
        type: file

# Linux configuration
linux:
  target:
    - target: AppImage
      arch:
        - x64
        - arm64
    - target: deb
      arch:
        - x64
        - arm64
    - target: rpm
      arch:
        - x64
        - arm64
  icon: assets/icons/icon.png
  category: Network
  synopsis: Lucid Desktop Application
  description: Multi-window Electron application for Lucid blockchain platform
  vendor: Lucid Development Team
  maintainer: team@lucid.dev
  homepage: https://lucid.dev
  
  # AppImage configuration
  appImage:
    artifactName: "${productName}-${version}-${arch}.${ext}"
  
  # Debian package configuration
  deb:
    depends:
      - libgtk-3-0
      - libnotify4
      - libnss3
      - libxss1
      - libxtst6
      - xdg-utils
      - libatspi2.0-0
      - libdrm2
      - libxcomposite1
      - libxdamage1
      - libxrandr2
      - libgbm1
      - libasound2
      - libatk1.0-0
      - libcups2
      - libgtk-3-0
      - libxss1
    section: network
    priority: optional
    maintainer: team@lucid.dev
    homepage: https://lucid.dev

# Build configuration
buildVersion: 1.0.0
compression: maximum
removePackageScripts: false

# Auto-updater configuration
publish:
  provider: github
  owner: HamiGames
  repo: Lucid
  releaseType: release
  draft: false
  prerelease: false

# Environment variables
env:
  NODE_ENV: production
  ELECTRON_ENV: production

# Build hooks
beforeBuild: scripts/pre-build.js
afterBuild: scripts/post-build.js

# Electron configuration
electronVersion: 28.1.0
electronDownload:
  cache: ~/.cache/electron
  mirror: https://github.com/electron/electron/releases/download/

# Code signing (disabled for development)
sign: null

# Build metadata
buildDependenciesFromSource: false
nodeGypRebuild: false
npmRebuild: false
npmSkipBuildFromSource: false
