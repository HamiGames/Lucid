<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucid Admin Dashboard</title>
    <link rel="stylesheet" href="/static/css/admin.css">
    <link rel="stylesheet" href="/static/css/theme.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/js/dashboard.js" defer></script>
    <script src="/static/js/charts.js" defer></script>
</head>
<body>
    <div class="admin-container">
        <!-- Navigation Header -->
        <header class="admin-header">
            <div class="header-left">
                <h1 class="admin-title">Lucid Admin Dashboard</h1>
                <span class="admin-version">v1.0.0</span>
            </div>
            <div class="header-right">
                <div class="system-status" id="system-status">
                    <span class="status-indicator" id="status-indicator"></span>
                    <span class="status-text" id="status-text">Checking...</span>
                </div>
                <div class="admin-user">
                    <span class="user-name" id="user-name">Admin User</span>
                    <button class="logout-btn" id="logout-btn">Logout</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- System Overview Cards -->
            <section class="overview-section">
                <div class="overview-grid">
                    <!-- System Status Card -->
                    <div class="overview-card status-card">
                        <div class="card-header">
                            <h3>System Status</h3>
                            <div class="card-actions">
                                <button class="refresh-btn" id="refresh-status">Refresh</button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="status-metrics">
                                <div class="metric">
                                    <span class="metric-label">Uptime</span>
                                    <span class="metric-value" id="system-uptime">--</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Version</span>
                                    <span class="metric-value" id="system-version">--</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Last Update</span>
                                    <span class="metric-value" id="last-update">--</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Active Sessions Card -->
                    <div class="overview-card sessions-card">
                        <div class="card-header">
                            <h3>Active Sessions</h3>
                            <div class="card-actions">
                                <button class="view-all-btn" id="view-sessions">View All</button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="sessions-metrics">
                                <div class="metric">
                                    <span class="metric-label">Total</span>
                                    <span class="metric-value" id="total-sessions">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Active</span>
                                    <span class="metric-value" id="active-sessions">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Idle</span>
                                    <span class="metric-value" id="idle-sessions">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Node Status Card -->
                    <div class="overview-card nodes-card">
                        <div class="card-header">
                            <h3>Node Status</h3>
                            <div class="card-actions">
                                <button class="view-all-btn" id="view-nodes">View All</button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="nodes-metrics">
                                <div class="metric">
                                    <span class="metric-label">Total Nodes</span>
                                    <span class="metric-value" id="total-nodes">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Online</span>
                                    <span class="metric-value" id="online-nodes">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Load Average</span>
                                    <span class="metric-value" id="load-average">0.0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Blockchain Status Card -->
                    <div class="overview-card blockchain-card">
                        <div class="card-header">
                            <h3>Blockchain Status</h3>
                            <div class="card-actions">
                                <button class="view-all-btn" id="view-blockchain">View Details</button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="blockchain-metrics">
                                <div class="metric">
                                    <span class="metric-label">Network Height</span>
                                    <span class="metric-value" id="network-height">0</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Sync Status</span>
                                    <span class="metric-value" id="sync-status">--</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-label">Pending TXs</span>
                                    <span class="metric-value" id="pending-txs">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Charts Section -->
            <section class="charts-section">
                <div class="charts-grid">
                    <!-- Resource Usage Chart -->
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Resource Usage</h3>
                            <div class="chart-controls">
                                <select id="resource-timeframe">
                                    <option value="1h">Last Hour</option>
                                    <option value="6h">Last 6 Hours</option>
                                    <option value="24h">Last 24 Hours</option>
                                    <option value="7d">Last 7 Days</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <canvas id="resource-chart"></canvas>
                        </div>
                    </div>

                    <!-- Session Activity Chart -->
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Session Activity</h3>
                            <div class="chart-controls">
                                <select id="session-timeframe">
                                    <option value="1h">Last Hour</option>
                                    <option value="6h">Last 6 Hours</option>
                                    <option value="24h">Last 24 Hours</option>
                                    <option value="7d">Last 7 Days</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <canvas id="session-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Actions Section -->
            <section class="actions-section">
                <div class="actions-grid">
                    <button class="action-btn primary" id="emergency-stop">
                        <span class="btn-icon">‚ö†Ô∏è</span>
                        <span class="btn-text">Emergency Stop All Sessions</span>
                    </button>
                    <button class="action-btn secondary" id="anchor-sessions">
                        <span class="btn-icon">üîó</span>
                        <span class="btn-text">Anchor Sessions to Blockchain</span>
                    </button>
                    <button class="action-btn secondary" id="trigger-payouts">
                        <span class="btn-icon">üí∞</span>
                        <span class="btn-text">Trigger Payout Processing</span>
                    </button>
                    <button class="action-btn secondary" id="system-lockdown">
                        <span class="btn-icon">üîí</span>
                        <span class="btn-text">System Lockdown</span>
                    </button>
                </div>
            </section>

            <!-- Recent Activity Section -->
            <section class="activity-section">
                <div class="activity-card">
                    <div class="card-header">
                        <h3>Recent Activity</h3>
                        <div class="card-actions">
                            <button class="refresh-btn" id="refresh-activity">Refresh</button>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="activity-list" id="activity-list">
                            <!-- Activity items will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Navigation Sidebar -->
        <nav class="admin-sidebar">
            <div class="sidebar-content">
                <ul class="nav-menu">
                    <li class="nav-item active">
                        <a href="/admin/dashboard" class="nav-link">
                            <span class="nav-icon">üìä</span>
                            <span class="nav-text">Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/admin/sessions" class="nav-link">
                            <span class="nav-icon">üñ•Ô∏è</span>
                            <span class="nav-text">Sessions</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/admin/users" class="nav-link">
                            <span class="nav-icon">üë•</span>
                            <span class="nav-text">Users</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/admin/nodes" class="nav-link">
                            <span class="nav-icon">üñ•Ô∏è</span>
                            <span class="nav-text">Nodes</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/admin/blockchain" class="nav-link">
                            <span class="nav-icon">‚õìÔ∏è</span>
                            <span class="nav-text">Blockchain</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/admin/audit" class="nav-link">
                            <span class="nav-icon">üìã</span>
                            <span class="nav-text">Audit Logs</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/admin/config" class="nav-link">
                            <span class="nav-icon">‚öôÔ∏è</span>
                            <span class="nav-text">Configuration</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>
</body>
</html>
